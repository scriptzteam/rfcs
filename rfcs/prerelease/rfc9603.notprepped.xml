<?xml version='1.0' encoding='UTF-8'?>

<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>

<rfc xmlns:xi="http://www.w3.org/2001/XInclude" ipr="trust200902" docName="draft-ietf-pce-segment-routing-ipv6-25" number="9603" updates="" obsoletes="" category="std" consensus="true" submissionType="IETF" tocDepth="4" tocInclude="true" sortRefs="false" symRefs="true" version="3" xml:lang="en">

  <front>
    <title abbrev="PCEP SRv6">Path Computation Element Communication Protocol (PCEP) Extensions for IPv6 Segment Routing</title>
    <seriesInfo name="RFC" value="9603"/>
    <author fullname="李呈" asciiFullname="Cheng Li" role="editor">
      <organization ascii="Huawei Technologies">华为技术有限公司</organization>
      <address>
        <postal>
          <street ascii="Huawei Campus, No. 156 Beiqing Rd.">华为北研所</street>
          <city ascii="Beijing">北京</city>
          <code>100095</code>
          <country ascii="China">中国</country>
        </postal>
        <email>c.l@huawei.com</email>
      </address>
    </author>
    <author initials="P." surname="Kaladharan" fullname="Prejeeth Kaladharan">
      <organization>RtBrick Inc</organization>
      <address>
        <postal>
          <city>Bangalore</city>
          <region>Karnataka</region>
          <country>India</country>
        </postal>
        <email>prejeeth@rtbrick.com</email>
      </address>
    </author>
    <author initials="S." surname="Sivabalan" fullname="Siva Sivabalan">
      <organization>Ciena Corporation</organization>
      <address>
        <email>msiva282@gmail.com</email>
      </address>
    </author>
    <author initials="M." surname="Koldychev" fullname="Mike Koldychev">
      <organization>Ciena Corporation</organization>
      <address>
        <postal>
          <country>Canada</country>
        </postal>
        <email>mkoldych@ciena.com</email>
      </address>
    </author>
    <author initials="Y." surname="Zhu" fullname="Yongqing Zhu">
      <organization>China Telecom</organization>
      <address>
        <postal>
          <street>109 West Zhongshan Ave, Tianhe District</street>
          <city>Bangalore</city>
          <region>Guangzhou</region>
          <country>China</country>
        </postal>
        <email>zhuyq8@chinatelecom.cn</email>
      </address>
    </author>
    <date year="2024" month="July"/>
    <area>RTG</area>
    <workgroup>pce</workgroup>

<keyword>PCEP</keyword>
<keyword>SRv6</keyword>
<keyword>IPv6</keyword>

    <abstract>
      <t>Segment Routing (SR) can be used to steer packets through a network
      using the IPv6 or MPLS data plane, employing the source routing
      paradigm.</t>
      <t>An SR Path can be derived from a variety of mechanisms,
      including an IGP Shortest Path Tree (SPT), explicit configuration, or a
      Path Computation Element (PCE).</t>
      <t>Since SR can be applied to both MPLS and IPv6 data planes, a PCE
      should be able to compute an SR Path for both MPLS and IPv6 data
      planes. The Path Computation Element Communication Protocol (PCEP)
      extension and mechanisms to support SR-MPLS have been defined. This document outlines the
      necessary extensions to support SR for the IPv6 data plane within
      PCEP.</t>
    </abstract>
  </front>
  <middle>

<section anchor="introduction">
      <name>Introduction</name>
      <t>As defined in <xref target="RFC8402"/>, Segment Routing (SR) architecture allows the source node to steer a packet through a path indicated by an ordered list of instructions, called "segments". A segment can represent any instruction, topological or service based, and it can have a semantic local to an SR node or global within an SR domain.</t>
      <t><xref target="RFC5440"/> describes Path Computation Element Communication Protocol (PCEP) for communication between a Path Computation Client (PCC) and a PCE or between a pair of PCEs. A PCE or a PCC operating as a PCE (in a hierarchical PCE environment) computes paths for MPLS Traffic Engineering Label Switched Paths (MPLS-TE LSPs) based on various constraints and optimization criteria.</t>
      <t><xref target="RFC8231"/> specifies extensions to PCEP that allow a stateful PCE to compute and recommend network paths in compliance with <xref target="RFC4657"/> and defines objects and TLVs for MPLS-TE LSPs. Stateful PCEP extensions provide synchronization of LSP state between a PCC and a PCE or between a pair of PCEs, delegation of LSP control, reporting of LSP state from a PCC to a PCE, and controlling the setup and path routing of an LSP from a PCE to a PCC. Stateful PCEP extensions are intended for an operational model in which LSPs are configured on the PCC, and control over them is delegated to the PCE.</t>
      <t>A mechanism to dynamically initiate LSPs on a PCC based on the requests from a stateful PCE or a controller using stateful PCE is specified in <xref target="RFC8281"/>. As per <xref target="RFC8664"/>, it is possible to use a stateful PCE for computing one or more SR-TE paths taking into account various constraints and objective functions. Once a path is computed, the stateful PCE can initiate an SR-TE path on a PCC using PCEP extensions specified in <xref target="RFC8281"/> and the SR-specific PCEP extensions specified in <xref target="RFC8664"/>.</t>
      <t><xref target="RFC8664"/> specifies PCEP extensions for supporting an SR-TE LSP for the MPLS data plane. This document extends <xref target="RFC8664"/> to support SR for the IPv6 data plane. Additionally, using procedures described in this document, a PCC can request an SRv6 path from either a stateful or stateless PCE. This specification relies on the PATH-SETUP-TYPE TLV and procedures specified in <xref target="RFC8408"/>.</t>
      <t>This specification provides a mechanism for a network controller (acting as a PCE) to instantiate candidate paths for an SR Policy onto a
head-end node (acting as a PCC) using PCEP. For more information on the SR Policy architecture, see <xref target="RFC9256"/>, which applies to both SR-MPLS and SRv6.</t>
      <section anchor="requirements-language">
        <name>Requirements Language</name>
        <t>
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
    "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>",
    "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
    "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be
    interpreted as described in BCP&nbsp;14 <xref target="RFC2119"/> <xref
    target="RFC8174"/> when, and only when, they appear in all capitals, as
    shown here.
        </t>
      </section>
    </section>
    <section anchor="terminology">
      <name>Terminology</name>
      <t>This document uses the following terms defined in <xref target="RFC5440"/>: PCC, PCE, PCEP, PCEP Peer.</t>
      <t>This document uses the following terms defined in <xref target="RFC8051"/>: Stateful PCE, Delegation.</t>
      <t>Further, the following terms are used in the document:</t>
      <dl newline="false" spacing="normal">
        <dt>MSD:</dt>
        <dd>
          <t>Maximum SID Depth</t>
        </dd>
        <dt>PST:</dt>
        <dd>
          <t>Path Setup Type</t>
        </dd>
        <dt>SR:</dt>
        <dd>
          <t>Segment Routing</t>
        </dd>
        <dt>SID:</dt>
        <dd>
          <t>Segment Identifier</t>
        </dd>
        <dt>SRv6:</dt>
        <dd>
          <t>Segment Routing over IPv6 data plane</t>
        </dd>
        <dt>SRH:</dt>
        <dd>
          <t>IPv6 Segment Routing Header <xref target="RFC8754"/></t>
        </dd>
        <dt>SRv6 path:</dt>
        <dd>
          <t>IPv6 Segment List (A list of IPv6 SIDs representing a path in IPv6 SR domain in the context of this document.)</t>
        </dd>
      </dl>
      <t>Further, note that the term "LSP" used in the PCEP specifications
would be equivalent to an SRv6 path (represented as a list of SRv6
segments) in the context of supporting SRv6 in PCEP.</t>
    </section>
    <section anchor="Overview">
      <name>Overview of PCEP Operation in SRv6 Networks</name>
      <t>Basic operations for PCEP speakers are built on <xref target="RFC8664"/>.</t>
      <t>In PCEP messages, route information is carried in the Explicit Route Object (ERO), which consists of a sequence of subobjects. <xref target="RFC8664"/> defined a new ERO subobject denoted by "SR-ERO subobject" that is capable of carrying a SID as well as the identity of the node/adjacency represented by the SID for SR-MPLS. SR-capable PCEP speakers can generate and/or process such an ERO subobject. An ERO containing SR-ERO subobjects can be included in the PCEP Path Computation Reply (PCRep) message defined in <xref target="RFC5440"/>, the PCEP LSP Initiate Request message (PCInitiate) defined in <xref target="RFC8281"/>, as well as in the PCEP LSP Update Request (PCUpd) and PCEP LSP State Report (PCRpt) messages defined in <xref target="RFC8231"/>. <xref target="RFC8664"/> also defines a new Reported Route Object (RRO), called "SR-RRO", to represent the SID list that was applied by the PCC, which is the actual path taken by the LSP in SR-MPLS network.</t>
      <t>The SRv6 paths computed by a PCE can be represented as an ordered list of SRv6 segments. This document defines new subobjects "SRv6-ERO" and "SRv6-RRO" in the ERO and the RRO, respectively, to carry the SRv6 SID. SRv6-capable
PCEP speakers <bcp14>MUST</bcp14> be able to generate and/or process these subobjects.</t>
      <t>When a PCEP session between a PCC and a PCE is established, both PCEP speakers exchange their capabilities to indicate their ability to support SRv6-specific functionality as described in <xref target="SRv6-PCE-Capability-sub-TLV"/>.</t>

      <t>In summary, this document defines:</t>
      <ul spacing="normal">
        <li>
          <t>a new PCEP capability for SRv6,</t>
        </li>
        <li>
          <t>a new subobject SRv6-ERO in ERO,</t>
        </li>
        <li>
          <t>a new subobject SRv6-RRO in RRO, and</t>
        </li>
        <li>
          <t>a new Path Setup type (PST) <xref target="RFC8408"/>, carried in
          the PATH-SETUP-TYPE and PATH-SETUP-TYPE-CAPABILITY TLVs.</t>
        </li>
      </ul>
      <section anchor="Operation-overview">
        <name>Operation Overview</name>
        <t>In SR networks, an SR source node <xref target="RFC8754"/> steers a packet into an SR Policy resulting in a segment list.</t>
        <t>When SR leverages the IPv6 data plane (i.e., SRv6), the PCEP procedures and mechanisms are extended in this document.</t>
        <t>This document describes the extension to support SRv6 in PCEP. A PCC or PCE indicates its ability to support SRv6 during the PCEP
session initialization phase via a new SRv6-PCE-CAPABILITY sub-TLV
(see details in <xref target="SRv6-PCE-Capability-sub-TLV"/>).</t>
      </section>
      <section anchor="SRv6-Specific-PCEP-Message-Extensions">
        <name>SRv6-Specific PCEP Message Extensions</name>
        <t>As defined in <xref target="RFC5440"/>, a PCEP message consists of
a common header followed by a variable-length body made up of
mandatory and/or optional objects. This document does not require any
changes in the format of PCReq and PCRep messages specified in <xref target="RFC5440"/>,
the PCInitiate message specified in <xref target="RFC8281"/>, or PCRpt and PCUpd messages
specified in <xref target="RFC8231"/>. However, PCEP messages pertaining to SRv6 <bcp14>MUST</bcp14>
include PATH-SETUP-TYPE TLV in the Request Parameters (RP) or Stateful PCE Request Parameters (SRP) object to clearly
identify that SRv6 is intended.</t>
</section>
    </section>
    <section anchor="Object-Formats">
      <name>Object Formats</name>
      <section anchor="The-OPEN-Object">
        <name>The OPEN Object</name>
        <section anchor="SRv6-PCE-Capability-sub-TLV">
          <name>The SRv6 PCE Capability sub-TLV</name>
          <t>This document defines a new Path Setup Type (PST) <xref target="RFC8408"/> for SRv6, as follows:</t>
          <dl newline="false" spacing="normal">
            <dt>PST=3:</dt>
	    <dd>Path is set up using SRv6.</dd>
          </dl>

          <t>A PCEP speaker indicates its support of the function described in this document by sending a PATH-SETUP-TYPE-CAPABILITY TLV in the OPEN object with this new PST (value 3) included in the PST list.</t>
         <t>This document also defines the SRv6-PCE-CAPABILITY sub-TLV. PCEP speakers use this sub-TLV to exchange information about their SRv6 capability. If a PCEP speaker includes PST=3 in the PST list of the PATH-SETUP-TYPE-CAPABILITY TLV, then it <bcp14>MUST</bcp14> also include the SRv6-PCE-CAPABILITY sub-TLV inside the PATH-SETUP-TYPE-CAPABILITY TLV. For further error handling, please see <xref target="Procedures"/>.</t>
          <t>The format of the SRv6-PCE-CAPABILITY sub-TLV is shown in <xref target="SRv6-PCE-CAPABILITY-sub-TLV-format" format="default"/>.</t>
          <figure anchor="SRv6-PCE-CAPABILITY-sub-TLV-format">
            <name>SRv6-PCE-CAPABILITY Sub-TLV Format</name>
            <artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Type=27            |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Reserved           |             Flags         |N| |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   MSD-Type    | MSD-Value     |   MSD-Type    | MSD-Value     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                             ...                             //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   MSD-Type    | MSD-Value     |           Padding             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
          </figure>
          <t>The code point for the TLV type is 27, and the format is compliant with the PCEP TLV format defined in <xref target="RFC5440"/>. That is, the sub-TLV is composed of 2 octets for the type, 2 octets specifying the length, and a Value field. When set to 27, the Type field identifies the SRv6-PCE-CAPABILITY sub-TLV, and the presence of the sub-TLV indicates the support for the SRv6 paths in PCEP. The Length field defines the length of the value portion in octets. The sub-TLV is padded to 4-octet alignment, and padding is not included in the Length field. The (MSD-Type,MSD-Value) pairs are <bcp14>OPTIONAL</bcp14>. The number of (MSD-Type,MSD-Value) pairs can be determined by the Length field of the TLV.</t>
          <t>The value is comprised of:</t>
          <ul spacing="normal">
            <li>Reserved: 2 octets; this field <bcp14>MUST</bcp14> be set to 0
            on transmission and ignored on receipt.</li>
            <li><t>Flags: 2 octets; one bit is currently assigned in <xref target="SRv6-PCE-Capability-Flags"/></t>
              <ul spacing="normal">
                <li>N bit (bit position 14): A PCC sets this flag bit to 1 to
                indicate that it is capable of resolving a Node or Adjacency
                Identifier (NAI) to an SRv6-SID.</li>
                <li>Unassigned bits <bcp14>MUST</bcp14> be set to 0 on
                transmission and ignored on receipt</li>
              </ul>
            </li>
            <li>A pair of (MSD-Type,MSD-Value): Where MSD-Type (1 octet)
            is as per the IGP MSD Type registry created by <xref
            target="RFC8491"/> and populated with SRv6 MSD types as per <xref
            target="RFC9352"/>, and where MSD-Value (1 octet) is as per <xref
            target="RFC8491"/>.</li>
          </ul>
          <t>The SRv6 MSD information advertised via SRv6-PCE-Capability sub-TLV conveys the SRv6 capabilities of the PCEP speaker alone. However, when it comes to the computation of an SR Policy for the SRv6 data plane, the SRv6 MSD capabilities of the intermediate SRv6 Endpoint node and the tail-end node also need to be considered to ensure those midpoints are able to correctly process their segments and for the tail-end to dispose of the SRv6 encapsulation. The SRv6 MSD capabilities of other nodes might be learned as part of the topology information via the Border Gateway Protocol - Link State (BGP-LS) <xref target="RFC9514"/> or via PCEP if the PCE also happens to have PCEP sessions with those nodes.</t>
          <t>It is recommended that the SRv6 MSD information not be included in the SRv6-PCE-Capability sub-TLV in deployments where the PCE is able to obtain this via IGP/BGP-LS as part of the topology information.</t>
        </section>
      </section>
      <section anchor="The-SRP-Object">
        <name>The RP/SRP Object</name>
        <t>This document defines a new Path Setup Type (PST=3) for SRv6. In order to indicate that the path is for SRv6, any RP or SRP object <bcp14>MUST</bcp14> include the PATH-SETUP-TYPE TLV as specified in <xref target="RFC8408"/>, where PST is set to 3.</t>
      </section>
      <section anchor="ERO">
        <name>ERO</name>
        <t>In order to support SRv6, a new "SRv6-ERO" subobject is defined for inclusion in the ERO.</t>
        <section anchor="SRv6-ERO-Subobject">
          <name>SRv6-ERO Subobject</name>
          <t>An SRv6-ERO subobject is formatted as shown in <xref target="SRv6-ERO-Subobject-Format" format="default"/>.</t>
          <figure anchor="SRv6-ERO-Subobject-Format">
            <name>SRv6-ERO Subobject Format</name>
            <artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|L|   Type=40   |     Length    | NT    |     Flags     |V|T|F|S|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Reserved         |      Endpoint Behavior        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                   SRv6 SID (conditional)                      |
|                        (128-bit)                              |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                 NAI (variable, conditional)                 //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                  SID Structure (conditional)                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
          </figure>
          <t>The fields in the SRv6-ERO subobject are as follows:</t>
	  <ul spacing="normal">
            <li>The "L" flag: Indicates whether the subobject represents a
            loose hop (see <xref target="RFC3209"/>). If this flag is set to
            zero, a PCC <bcp14>MUST NOT</bcp14> overwrite the SID value
            present in the SRv6-ERO subobject. Otherwise, a PCC
            <bcp14>MAY</bcp14> expand or replace one or more SID values in the
            received SRv6-ERO based on its local policy.</li>
            <li>Type: Indicates the content of the subobject, i.e., when the
            field is set to 40, the subobject is an SRv6-ERO subobject
            representing an SRv6 SID.</li>
            <li>Length: Contains the total length of the subobject in
            octets. The Length <bcp14>MUST</bcp14> be at least 24 and
            <bcp14>MUST</bcp14> be a multiple of 4. An SRv6-ERO subobject
            <bcp14>MUST</bcp14> contain at least one of an SRv6-SID or an
            NAI. The S and F bits in the Flags field indicates whether the
            SRv6-SID or NAI fields are absent.</li>
            <li><t>NAI Type (NT): Indicates the type and format of the NAI
            contained in the object body, if any are present. If the F bit is
            set to one (see below), then the NT field has no meaning and
            <bcp14>MUST</bcp14> be ignored by the receiver. This document
            creates a new PCEP SRv6-ERO NAI Types registry in <xref
            target="IANA-NAI"/> and allocates the following values:</t>
            <ul spacing="normal">
              <li>If NT value is 0, the NAI <bcp14>MUST NOT</bcp14> be included.</li>
              <li>When NT value is 2, the NAI is as per the "IPv6 node ID"
              format defined in <xref target="RFC8664"/>, which specifies an
              IPv6 address. This is used to identify the owner of the SRv6
              Identifier. This is optional, as the LOC (the locator portion)
              of the SRv6 SID serves a similar purpose (when present).</li>
              <li>When NT value is 4, the NAI is as per the "IPv6 adjacency"
              format defined in <xref target="RFC8664"/>, which specify a pair
              of IPv6 addresses. This is used to identify the IPv6 adjacency
              and used with the SRv6 Adj-SID.</li>
              <li>When NT value is 6, the NAI is as per the "link-local IPv6
              addresses" format defined in <xref target="RFC8664"/>, which
              specify a pair of (global IPv6 address, interface ID) tuples. It
              is used to identify the IPv6 adjacency and used with the SRv6
              Adj-SID.</li>
            </ul></li>
          <li><t>Flags: Used to carry additional information pertaining to the
          SRv6-SID. This document defines the following flag bits. The other
          bits <bcp14>MUST</bcp14> be set to zero by the sender and
          <bcp14>MUST</bcp14> be ignored by the receiver. This document
          creates a new registry SRv6-ERO Flag Field registry in <xref
          target="SRv6-ERO-flag"/> and allocates the following values.</t>
          <ul spacing="normal">
            <li>S: When this bit is set to 1, the SRv6-SID value in the
            subobject body is absent. In this case, the PCC is responsible for
            choosing the SRv6-SID value, e.g., by looking up in the SR-DB
            using the NAI that, in this case, <bcp14>MUST</bcp14> be present
            in the subobject. If the S bit is set to 1, then the F bit
            <bcp14>MUST</bcp14> be set to zero.</li>
            <li>F: When this bit is set to 1, the NAI value in the subobject
            body is absent. The F bit <bcp14>MUST</bcp14> be set to 1 if NT=0;
            otherwise, it <bcp14>MUST</bcp14> be set to zero. The S and F bits
            <bcp14>MUST NOT</bcp14> both be set to 1.</li>
            <li>T: When this bit is set to 1, the SID Structure value in the
            subobject body is present. The T bit <bcp14>MUST</bcp14> be set to
            0 when the S bit is set to 1. If the T bit is set when the S bit is
            set, the T bit <bcp14>MUST</bcp14> be ignored. Thus, the T bit
            indicates the presence of an optional 8-byte SID Structure when
            SRv6 SID is included. The SID Structure is defined in <xref
            target="SID-Structure"/>.</li>
            <li>V: The "SID verification" bit usage is as per <xref
            target="RFC9256" sectionFormat="of" section="5.1"/>. If a PCC
            "Verification fails" for a SID, it <bcp14>MUST</bcp14> report this
            error by including the LSP-ERROR-CODE TLV with LSP Error-value
            "SID Verification fails" in the LSP object in the PCRpt message to
            the PCE.</li>
          </ul></li>
          <li>Reserved: <bcp14>MUST</bcp14> be set to zero while sending and
          ignored on receipt.</li>
          <li>Endpoint Behavior: A 16-bit field representing the behavior
          associated with the SRv6 SIDs. This information is optional, but providing it
          is recommended whenever possible. It could be used for
          maintainability and diagnostic purposes. If behavior is not known,
          value "0xFFFF" as defined in the "SRv6 Endpoint Behaviors" registry is
          used <xref target="RFC8986"/>.</li>
          <li>SRv6 SID: SRv6 Identifier is a 128-bit value representing the
          SRv6 segment.</li>
          <li>NAI: The NAI associated with the SRv6-SID. The NAI's format
          depends on the value in the NT field and is described in <xref
          target="RFC8664"/>.</li>
	</ul>
          <t>At least one SRv6-SID or the NAI <bcp14>MUST</bcp14> be included
          in the SRv6-ERO subobject, and both <bcp14>MAY</bcp14> be
          included.</t>
          <section anchor="SID-Structure">
            <name>SID Structure</name>
            <t>The SID Structure is an optional part of the SR-ERO subobject,
            as described in <xref target="SRv6-ERO-Subobject"/>.</t>
            <t><xref target="RFC8986"/> defines an SRv6 SID as consisting of
            LOC:FUNCT:ARG, where a locator (LOC) is encoded in the L most
            significant bits of the SID, followed by F bits of function
            (FUNCT) and A bits of arguments (ARG).  A locator may be
            represented as B:N where B is the SRv6 SID locator block (IPv6
            prefix allocated for SRv6 SIDs by the operator) and N is the
            identifier of the parent node instantiating the SID called
            "locator node".</t>
            <t>The SID Structure is formatted as shown in <xref target="SID-Structure-Format"
            format="default"/>.</t>
            <figure anchor="SID-Structure-Format">
              <name>SID Structure Format</name>
              <artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    LB Length  |  LN Length    | Fun. Length   |  Arg. Length  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 Reserved                      |   Flags       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
            </figure>
            <t>Where:</t>
	    <ul spacing="normal">
              <li>LB Length: 1 octet; SRv6 SID Locator Block length in bits</li>
              <li>LN Length: 1 octet; SRv6 SID Locator Node length in bits</li>
              <li>Fun. Length: 1 octet; SRv6 SID Function length in bits</li>
              <li>Arg. Length: 1 octet; SRv6 SID Arguments length in bits</li>
	    </ul>
            <t>The sum of all four sizes in the SID Structure must be less than or
            equal to 128 bits. If the sum of all four sizes advertised in the
            SID Structure is larger than 128 bits, the corresponding SRv6 SID
            <bcp14>MUST</bcp14> be considered invalid and a PCErr message with
            Error-Type = 10 ("Reception of an invalid object") and Error-value
            = 37 ("Invalid SRv6 SID Structure") is returned.</t>
	    <ul spacing="normal">
              <li>Reserved: <bcp14>MUST</bcp14> be set to zero while sending
              and ignored on receipt.</li>
              <li>Flags: Currently no flags are defined.</li>
	      <li>Unassigned bits must be set to zero while sending and
	      ignored on receipt.</li>
	    </ul>
            <t>The SRv6 SID Structure provides the detailed encoding
            information of an SRv6 SID, which is helpful in the use cases that
            require the SRv6 SID structure to be known. When a PCEP speaker
            receives the SRv6 SID and its structure information, the SRv6 SID
            can be parsed based on the SRv6 SID Structure and/or possible
            local policies. The SRv6 SID Structure could be used by the PCE
            for ease of operations and monitoring.  For example, this
            information could be used for validation of SRv6 SIDs being
            instantiated in the network and checked for conformance with the
            SRv6 SID allocation scheme chosen by the operator as described in
            <xref target="RFC8986" sectionFormat="of" section="3.2"/>.  In the future, PCE might
            also be utilized to verify and automate the security of the SRv6
            domain by provisioning filtering rules at the domain boundaries as
            described in <xref target="RFC8754" sectionFormat="of" section="5"/>.  The details
            of these potential applications are outside the scope of this
            document.</t>
          </section>
          <section anchor="order">
            <name>Order of the Optional Fields</name>
            <t>The optional elements in the SRv6-ERO subobject, i.e., SRv6 SID, NAI, and the
SID Structure, <bcp14>MUST</bcp14> be encoded in the order as depicted in <xref target="SRv6-ERO-Subobject-Format"/>.
The presence or absence of each of them is indicated by the respective flags, i.e.,
S flag, F flag, and T flag.</t>
            <t>In order to ensure future compatibility, any optional elements added to the SRv6-ERO subobject in the future must specify their order and request that the Internet Assigned Numbers Authority (IANA) allocate a flag to indicate their presence from the subregistry created in <xref target="SRv6-ERO-flag"/>.</t>
          </section>
        </section>
      </section>
      <section anchor="RRO">
        <name>RRO</name>
        <t>In order to support SRv6, a new "SRv6-RRO" subobject is defined for inclusion in the RRO.</t>
        <section anchor="SRv6-RRO-Subobject">
          <name>SRv6-RRO Subobject</name>
          <t>A PCC reports an SRv6 path to a PCE by sending a PCRpt message,
          per <xref target="RFC8231"/>. The RRO on this message represents the
          SID list that was applied by the PCC, that is, the actual path
          taken. The procedures of <xref target="RFC8664"/> with respect to
          the RRO apply equally to this specification without change.</t>
          <t>An RRO contains one or more subobjects called "SRv6-RRO
          subobjects", whose format is shown in <xref
          target="SRv6-RRO-Subobject-Format" format="default"/>.</t>
          <figure anchor="SRv6-RRO-Subobject-Format">
            <name>SRv6-RRO Subobject Format</name>
            <artwork><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type=40     |     Length    |  NT   |     Flags     |V|T|F|S|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Reserved         |      Endpoint Behavior        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                      SRv6 SID(optional)                       |
|                           (128-bit)                           |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                    NAI (variable)                           //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                     SID Structure (optional)                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
]]></artwork>
          </figure>
          <t>The format of the SRv6-RRO subobject is the same as that of the
          SRv6-ERO subobject but without the L flag.</t>
          <t>The V flag has no meaning in the SRv6-RRO and is ignored on
          receipt at the PCE.</t>
          <t>The ordering of SRv6-RRO subobjects by PCC in PCRpt message
          remains as per <xref target="RFC8664"/>.</t>
          <t>The ordering of optional elements in the SRv6-RRO subobject is
          the same as described in <xref target="order"/>.</t>
        </section>
      </section>
    </section>
    <section anchor="Procedures">
      <name>Procedures</name>
      <section anchor="Exchanging-SRv6-Capability">
        <name>Exchanging the SRv6 Capability</name>
        <t>A PCC indicates that it is capable of supporting the head-end
functions for SRv6 by including the SRv6-PCE-CAPABILITY sub-TLV in the
Open message that it sends to a PCE. A PCE indicates that it is
capable of computing SRv6 paths by including the SRv6-PCE-CAPABILITY
sub-TLV in the Open message that it sends to a PCC.</t>
        <t>If a PCEP speaker receives a PATH-SETUP-TYPE-CAPABILITY TLV with a
PST list containing PST=3, but the SRv6-PCE-CAPABILITY sub-TLV is absent, then the PCEP speaker <bcp14>MUST</bcp14> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-Value = 34 ("Missing PCE-SRv6-CAPABILITY sub-TLV") and <bcp14>MUST</bcp14> then close the PCEP session. If a PCEP speaker receives a PATH-SETUP-TYPE-CAPABILITY TLV with an SRv6-PCE-CAPABILITY sub-TLV, but the PST list does not contain PST=3, then the PCEP speaker <bcp14>MUST</bcp14> ignore the SRv6-PCE-CAPABILITY sub-TLV.</t>
        <t>In case the MSD-Type in the SRv6-PCE-CAPABILITY sub-TLV received by the PCE
does not correspond to one of the SRv6 MSD types, the PCE <bcp14>MUST</bcp14> respond
with a PCErr message (Error-Type = 1 ("PCEP session establishment
failure") and Error-Value = 1 ("reception of an invalid Open message or a
non Open message.")).</t>
        <t>Note that the (MSD-Type,MSD-Value) pair exchanged via the
SRv6-PCE-CAPABILITY sub-TLV indicates the SRv6 SID imposition limit
for the sender PCC node only. However, if a PCE learns these via alternate mechanisms, e.g., routing protocols <xref target="RFC9352"/>, then it ignores the values in the SRv6-PCE-CAPABILITY sub-TLV. Furthermore, whenever a PCE learns any other SRv6 MSD types that may be defined in the future via alternate mechanisms, it <bcp14>MUST</bcp14> use those values regardless of the values exchanged in the SRv6-PCE-CAPABILITY sub-TLV.</t>
        <t>During path computation, a PCE must consider the MSD information of all the nodes along the path instead of only the MSD information of the ingress PCC since a packet may be dropped on any node in a forwarding path because of the SID depth exceeding the MSD of the node. The MSD capabilities of all SR nodes along the path can be learned as part of the topology information via IGP/BGP-LS or via PCEP if the PCE also happens to have PCEP sessions with those nodes.</t>
        <t>A PCE <bcp14>MUST NOT</bcp14> send SRv6 paths that exceed the SRv6 MSD capabilities of the PCC. If a PCC needs to modify the SRv6 MSD value signaled via the Open message, it <bcp14>MUST</bcp14> close the PCEP session and re-establish it with the new value. If the PCC receives an SRv6 path that exceeds its SRv6 MSD capabilities, the PCC <bcp14>MUST</bcp14> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 40 ("Unsupported number of SRv6-ERO subobjects").</t>
        <t>The N flag and (MSD-Type,MSD-Value) pair inside the SRv6-PCE-CAPABILITY sub-TLV are meaningful only in the Open message sent to a PCE. As such, the flags <bcp14>MUST</bcp14> be set to zero and a (MSD-Type,MSD-Value) pair <bcp14>MUST NOT</bcp14> be present in the SRv6-PCE-CAPABILITY sub-TLV in an Open message sent to a PCC.  Similarly, a PCC <bcp14>MUST</bcp14> ignore flags and any (MSD-Type,MSD-Value) pair in a received Open message. If a PCE receives multiple SRv6-PCE-CAPABILITY sub-TLVs in an Open message, it processes only the first sub-TLV received.</t>
      </section>
      <section anchor="ERO-Processing">
        <name>ERO Processing</name>
        <t>The processing of ERO remains unchanged in accordance with both <xref target="RFC5440"/> and <xref target="RFC8664"/>.</t>
        <section anchor="srv6-ero-validation">
          <name>SRv6 ERO Validation</name>
          <t>If a PCC does not support the SRv6 PCE Capability and thus cannot
recognize the SRv6-ERO or SRv6-RRO subobjects, it should respond according to the rules for a malformed object as described in <xref target="RFC5440"/>.</t>
          <t>On receiving an SRv6-ERO, a PCC <bcp14>MUST</bcp14> validate that the Length
field, the S bit, the F bit, the T bit, and the NT field are
consistent, as follows:</t>
          <ul spacing="normal">
            <li>

              <t>If NT=0, the F bit <bcp14>MUST</bcp14> be 1, the S bit
              <bcp14>MUST</bcp14> be zero, and the Length <bcp14>MUST</bcp14>
              be 24.</t>
            </li>
            <li>
              <t>If NT=2, the F bit <bcp14>MUST</bcp14> be zero. If the S bit
              is 1, the Length <bcp14>MUST</bcp14> be 24; otherwise, the Length
              <bcp14>MUST</bcp14> be 40.</t>
            </li>
            <li>
              <t>If NT=4, the F bit <bcp14>MUST</bcp14> be zero. If the S bit
              is 1, the Length <bcp14>MUST</bcp14> be 40; otherwise, the Length
              <bcp14>MUST</bcp14> be 56.</t>
            </li>
            <li>
              <t>If NT=6, the F bit <bcp14>MUST</bcp14> be zero. If the S bit
              is 1, the Length <bcp14>MUST</bcp14> be 48; otherwise, the Length
              <bcp14>MUST</bcp14> be 64.</t>
            </li>
            <li>
              <t>If the T bit is 1, then the S bit <bcp14>MUST</bcp14> be zero.</t>
            </li>
          </ul>
          <t>If a PCC finds that the NT field, Length field, S bit, F bit, and
          T bit are not consistent, it <bcp14>MUST</bcp14> consider the entire
          ERO invalid and <bcp14>MUST</bcp14> send a PCErr message with
          Error-Type = 10 ("Reception of an invalid object") and Error-value =
          11 ("Malformed object").</t>
          <t>If a PCC does not recognize or support the value in the NT field,
          it <bcp14>MUST</bcp14> consider the entire ERO invalid and send a
          PCErr message with Error-Type = 10 ("Reception of an invalid
          object") and Error-value = 41 ("Unsupported NAI Type in the
          SRv6-ERO/SRv6-RRO subobject").</t>
          <t>If a PCC receives an SRv6-ERO subobject in which the S and F bits
          are both set to 1 (that is, both the SID and NAI are absent), it
          <bcp14>MUST</bcp14> consider the entire ERO invalid and send a PCErr
          message with Error-Type = 10 ("Reception of an invalid object") and
          Error-value = 42 ("Both SID and NAI are absent in the SRv6-ERO
          subobject").</t>
          <t>If a PCC receives an SRv6-ERO subobject in which the S bit is set
          to 1 and the F bit is set to zero (that is, the SID is absent and
          the NAI is present), but the PCC does not support NAI resolution, it
          <bcp14>MUST</bcp14> consider the entire ERO invalid and send a PCErr
          message with Error-Type = 4 ("Not supported object") and Error-value
          = 4 ("Unsupported parameter").</t>
          <t>If a PCC detects that the subobjects of an ERO are a mixture of
          SRv6-ERO subobjects and subobjects of other types, then it
          <bcp14>MUST</bcp14> send a PCErr message with Error-Type = 10
          ("Reception of an invalid object") and Error-value = 43 ("ERO mixes
          SRv6-ERO subobjects with other subobject types").</t>
          <t>In case a PCEP speaker receives an SRv6-ERO subobject, when the PST is not set to 3 or SRv6-PCE-CAPABILITY sub-TLV was not exchanged, it <bcp14>MUST</bcp14> send a PCErr message with Error-Type = 19 ("Invalid Operation") and Error-value = 19 ("Attempted SRv6 when the capability was not advertised").</t>

          <t>If a PCC receives an SRv6 path that exceeds the SRv6 MSD capabilities, it <bcp14>MUST</bcp14> send a PCErr message with Error-Type = 10 ("Reception of an invalid object") and Error-value = 40 ("Unsupported number of SRv6-ERO subobjects") as per <xref target="RFC8664"/>.</t>
        </section>
        <section anchor="interpreting-the-srv6-ero">
          <name>Interpreting the SRv6-ERO</name>
          <t>The SRv6-ERO contains a sequence of subobjects. According to <xref target="RFC9256"/>, each
SRv6-ERO subobject in the sequence identifies a segment that the
traffic will be directed to, in the order given. That is, the first
subobject identifies the first segment the traffic will be directed
to, the second SRv6-ERO subobject represents the second segment, and
so on.</t>
        </section>
      </section>
      <section anchor="RRO-Processing">
        <name>RRO Processing</name>
        <t>The syntax-checking rules that apply to the SRv6-RRO subobject are
identical to those of the SRv6-ERO subobject, except as noted
below.</t>
        <t>If a PCEP speaker receives an SRv6-RRO subobject in which both SRv6
SID and NAI are absent, it <bcp14>MUST</bcp14> consider the entire RRO invalid and
send a PCErr message with Error-Type = 10 ("Reception of an invalid
object") and Error-value = 35 ("Both SID and NAI
are absent in
SRv6-RRO subobject").</t>
        <t>If a PCE detects that the subobjects of an RRO are a mixture of
SRv6-RRO subobjects and subobjects of other types, then it <bcp14>MUST</bcp14> send a
PCErr message with Error-Type = 10 ("Reception of an invalid object")
and Error-value = 36 ("RRO mixes SRv6-RRO subobjects
with other
subobject types").</t>
        <t>The mechanism by which the PCC learns the path is outside the scope of this document.</t>
      </section>
    </section>
    <section anchor="Security-Considerations">
      <name>Security Considerations</name>

      <t>The Security Considerations described in <xref target="RFC5440"/>,
      <xref target="RFC6952" sectionFormat="of" section="2.5"/>,
      <xref target="RFC8231"/>, <xref target="RFC8281"/>, <xref
      target="RFC8253"/>, and <xref target="RFC8664"/> are applicable to this
      specification.</t>
      <t>Note that this specification enables a network controller to
      instantiate an SRv6 path in the network.  This creates an additional
      vulnerability if the security mechanisms of <xref target="RFC5440"/>,
      <xref target="RFC8231"/>, and <xref target="RFC8281"/> are not used.  If
      there is no integrity protection on the session, then an attacker could
      create an SRv6 path that may not be subjected to the further verification
      checks. Further, the MSD field in the Open message could disclose node
      forwarding capabilities if suitable security mechanisms are not in
      place. Hence, securing the PCEP session using Transport Layer Security
      (TLS) <xref target="RFC8253"/> is <bcp14>RECOMMENDED</bcp14>.</t>
    </section>
    <section anchor="Manage">
      <name>Manageability Considerations</name>
      <t>All manageability requirements and considerations listed in <xref
      target="RFC5440"/>, <xref target="RFC8231"/>, <xref target="RFC8281"/>,
      and <xref target="RFC8664"/> apply to PCEP protocol extensions defined
      in this document. In addition, requirements and considerations listed in
      this section apply.</t>
      <section anchor="control-of-function-and-policy">
        <name>Control of Function and Policy</name>
        <t>A PCEP implementation <bcp14>SHOULD</bcp14> allow the operator to configure the SRv6 capability.
Further, a policy to accept NAI only for the SRv6 <bcp14>SHOULD</bcp14> be allowed to be set.</t>
      </section>
      <section anchor="information-and-data-models">
        <name>Information and Data Models</name>
        <t>The PCEP YANG module is out of the scope of this document; it is defined in other documents, for example, <xref target="I-D.ietf-pce-pcep-yang"/>. An augmented YANG module for SRv6 is also specified in <xref target="I-D.ietf-pce-pcep-srv6-yang"/> that allows for SRv6 capability and MSD configurations as well as to monitor the SRv6 paths set in the network.</t>
      </section>
      <section anchor="liveness-detection-and-monitoring">
        <name>Liveness Detection and Monitoring</name>
        <t>Mechanisms defined in this document do not imply any new liveness
detection and monitoring requirements in addition to those already
listed in <xref target="RFC5440"/>.</t>
      </section>
      <section anchor="verify-correct-operations">
        <name>Verify Correct Operations</name>
        <t>Verification of the mechanisms defined in this document can be built on those already listed in <xref target="RFC5440"/>, <xref target="RFC8231"/>, and <xref target="RFC8664"/>.</t>
      </section>
      <section anchor="requirements-on-other-protocols">
        <name>Requirements on Other Protocols</name>
        <t>Mechanisms defined in this document do not imply any new
requirements on other protocols.</t>
      </section>
      <section anchor="impact-on-network-operations">
        <name>Impact on Network Operations</name>
        <t>Mechanisms defined in <xref target="RFC5440"/>, <xref
        target="RFC8231"/>, and <xref target="RFC8664"/> also apply to PCEP
        extensions defined in this document.</t>
      </section>
    </section>

    <section anchor="IANA-Considerations">
      <name>IANA Considerations</name>
      <section anchor="PCEP-ERO-and-RRO-subobjects">
        <name>PCEP ERO and RRO Subobjects</name>
        <t>This document defines a new subobject type for the PCEP Explicit
        Route Object (ERO) and a new subobject type for the PCEP Reported
        Route Object (RRO). These have been registered in the "Resource Reservation
	Protocol (RSVP) Parameters" registry group as shown below.</t>

<t>IANA has allocated the following new subobject in the "Subobject type - 20 EXPLICIT_ROUTE - Type 1 Explicit Route" registry: </t>

<table anchor="iana-1" align="center">
  <name></name>
  <thead>
    <tr>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>40</td>
      <td>SRv6-ERO (PCEP-specific)</td>
    </tr>
</tbody>
</table>

<t>IANA has allocated the following new subobject in the "Subobject type - 21 ROUTE_RECORD - Type 1 Route Record" registry: </t>

<table anchor="iana-2" align="center">
  <name></name>
  <thead>
    <tr>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>40</td>
      <td>SRv6-RRO (PCEP-specific)</td>
    </tr>
  </tbody>
</table>
      </section>
      <section anchor="IANA-NAI">
        <name>New SRv6-ERO NAI Type Registry</name>
        <t>IANA has created the "PCEP SRv6-ERO NAI Types" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group to manage the 4-bit NT field in the SRv6-ERO subobject. The registration policy is IETF Review <xref target="RFC8126"/>. IANA has registered the values in <xref target="iana-3"/>.</t>

<table anchor="iana-3" align="center">
  <name></name>
  <thead>
    <tr>
      <th>Value</th>
      <th>Description</th>
      <th>Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>NAI is absent.</td>
      <td>RFC 9603</td>
    </tr>
    <tr>
      <td>2</td>
      <td>NAI is an IPv6 node ID.</td>
      <td>RFC 9603</td>
    </tr>
    <tr>
      <td>4</td>
      <td>NAI is an IPv6 adjacency with global IPv6 addresses.</td>
      <td>RFC 9603</td>
    </tr>
    <tr>
      <td>6</td>
      <td>NAI is an IPv6 adjacency with link-local IPv6 addresses.</td>
      <td>RFC 9603</td>
    </tr>
  </tbody>
</table>

      </section>
      <section anchor="SRv6-ERO-flag">
        <name>New SRv6-ERO Flag Registry</name>
        <t>IANA has created the "SRv6-ERO Flag Field" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group to manage the 12-bit Flag field of the SRv6-ERO subobject.  New values are to be assigned by Standards Action <xref target="RFC8126"/>. Each registration should include the following information:</t>
        <ul spacing="normal">
          <li>
            <t>Bit (counting from bit 0 as the most significant
	    bit)</t>
          </li>
          <li>
            <t>Description</t>
          </li>
          <li>
            <t>Reference</t>
          </li>
        </ul>
        <t>The following values are defined in this document:</t>

	<table anchor="iana-4">
	  <name></name>
	  <thead>
	    <tr>
	      <th>Bit</th>     
	      <th>Description</th>
              <th>Reference</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr>
              <td>8</td>
	      <td>SID Verification (V)</td>
	      <td>RFC 9603</td>
	    </tr>
	    <tr>
              <td>9</td>
	      <td>SID Structure is present (T)</td>
	      <td>RFC 9603</td>
	    </tr>
	    <tr>
	      <td>10</td>
	      <td>NAI is absent (F)</td>
	      <td>RFC 9603</td>
	    </tr>
            <tr>
	      <td>11</td>
	      <td>SID is absent (S)</td>
	      <td>RFC 9603</td>
	    </tr>
	  </tbody>
	  </table>

      </section>
      <section anchor="lsp-error-code-tlv">
        <name>LSP-ERROR-CODE TLV</name>
        <t>This document defines a new value in "LSP-ERROR-CODE TLV Error Code Field" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group.</t>

	<table anchor="iana-5">
	<name></name>
	<thead>
	<tr>
	<th>Value</th>
	<th>Meaning</th>
        <th>Reference</th>
	</tr>
	</thead>
	<tbody>
	<tr>
	<td>10</td> 
	<td>SID Verification fails</td>
	<td>RFC 9603</td>
	</tr>
	</tbody>
	</table>

      </section>
      <section anchor="sub-TLV-Type-Indicators">
        <name>PATH-SETUP-TYPE-CAPABILITY Sub-TLV Type Indicators</name>
        <t>IANA maintains the "PATH-SETUP-TYPE-CAPABILITY
Sub-TLV Type Indicators" registry within the "Path Computation Element
Protocol (PCEP) Numbers" registry group to manage the type indicator space
for sub-TLVs of the PATH-SETUP-TYPE-CAPABILITY TLV. IANA has registered the following value:</t>

	<table anchor="iana-6">
	  <name></name>
	  <thead>
	    <tr>
	      <th>Value</th>
	      <th>Meaning</th>
	      <th>Reference</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr>
	      <td>27</td>
              <td>SRv6-PCE-CAPABILITY</td>
              <td>RFC 9603</td>
	    </tr>
	  </tbody>
	</table>

      </section>
      <section anchor="SRv6-PCE-Capability-Flags">
        <name>SRv6 PCE Capability Flags</name>
        <t>IANA has created the "SRv6
Capability Flag Field" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group to manage the 16-bit Flag field of the SRv6-PCE-CAPABILITY sub-TLV. New values are to be assigned by Standards Action <xref target="RFC8126"/>. Each registration should include the following information:</t>
        <ul spacing="normal">
          <li>
            <t>Bit (counting from bit 0 as the most significant
bit)</t>
          </li>
          <li>
            <t>Description</t>
          </li>
          <li>
            <t>Reference</t>
          </li>
        </ul>
        <t>The following value is defined in this document.</t>

	<table anchor="iana-7">
	  <name></name>
	  <thead>
	    <tr>
	      <th>Bit</th>
	      <th>Description</th>
              <th>Reference</th>
	    </tr>
	  </thead>
	  <tbody>
	      <tr>
		<td>14</td>
		<td>Node or Adjacency Identifier (NAI) is supported (N)</td>
		<td>RFC 9603</td>
		</tr>
		  </tbody>
		  </table>

      </section>
      <section anchor="New-Path-Setup-Type">
        <name>New Path Setup Type</name>
        <t><xref target="RFC8408"/> created the "PCEP Path Setup Types" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group. IANA has allocated
the following value:</t>

        <table anchor="iana-8">
          <name></name>
          <thead>
            <tr>
              <th>Value</th>
              <th>Description</th>
              <th>Reference</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr>
	      <td>3</td>
              <td>Traffic engineering path is set up using SRv6.</td>
	      <td>RFC 9603</td>
	    </tr>
	  </tbody>
	</table>

      </section>
      <section anchor="ERROR-Objects">
        <name>ERROR Objects</name>
        <t>IANA has allocated the following Error-values in the "PCEP-ERROR
Object Error Types and Values" registry within the "Path Computation Element Protocol (PCEP) Numbers" registry group:</t>

        <table anchor="iana-9">
          <name></name>
          <thead>
            <tr>
	      <th>Error-Type</th>
	      <th>Meaning</th>
	      <th>Error-value</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr>
	      <td rowspan="8">10</td>
	      <td rowspan="8">Reception of an invalid object</td>
	      <td>34: Missing PCE-SRv6-CAPABILITY sub-TLV</td></tr>
              <tr><td>35: Both SID and NAI are absent in SRv6-RRO subobject</td></tr>
              <tr><td>36: RRO mixes SRv6-RRO subobjects with other subobject types</td></tr>
              <tr><td>37: Invalid SRv6 SID Structure</td></tr>
	      <tr><td>40: Unsupported number of SRv6-ERO subobjects</td></tr>
	      <tr><td>41: Unsupported NAI Type in the SRv6-ERO/SRv6-RRO subobject</td></tr>
	      <tr><td>42: Both SID and NAI are absent in the SRv6-ERO subobject</td></tr>
	      <tr><td>43: ERO mixes SRv6-ERO subobjects with other subobject types</td></tr>
	    <tr>
	      <td>19</td><td>Invalid Operation</td><td>
		19: Attempted SRv6 when the capability was not advertised</td>
	</tr>
	  </tbody>
	</table>
      </section>
    </section>
  </middle>
  <back>
    <displayreference target="I-D.ietf-pce-pcep-yang" to="PCEP-YANG"/>
    <displayreference target="I-D.ietf-pce-pcep-srv6-yang" to="PCEP-SRv6-YANG"/>
    <references>
      <name>References</name>
      <references anchor="sec-normative-references">
        <name>Normative References</name>

	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.3209.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.5440.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8126.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8231.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8281.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8408.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8491.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8253.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8664.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8986.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9514.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>

      </references>

      <references anchor="sec-informative-references">
        <name>Informative References</name>

	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.4657.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.6952.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8051.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8402.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8754.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9256.xml"/>
	<xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.9352.xml"/>

	<reference anchor="I-D.ietf-pce-pcep-yang" target="https://datatracker.ietf.org/doc/html/draft-ietf-pce-pcep-yang-25">
	  <front>
	    <title>A YANG Data Model for Path Computation Element Communications Protocol (PCEP)</title>
	    <author initials="D." surname="Dhody" fullname="Dhruv Dhody" role="editor">
	      <organization>Huawei</organization>
	    </author>
	    <author initials="V." surname="Beeram" fullname="Vishnu Beeram">
	      <organization>Juniper Networks</organization>
	    </author>
	    <author initials="J." surname="Hardwick" fullname="Jonathan Hardwick">
	      <organization>Microsoft</organization>
	    </author>
	    <author initials="J." surname="Tantsura" fullname="Jeff Tantsura">
	      <organization>Nvidia</organization>
	    </author>
	    <date day="21" month="May" year="2024"/>
	  </front>
	  <seriesInfo name="Internet-Draft" value="draft-ietf-pce-pcep-yang-25"/>
	</reference>

        <xi:include href="https://datatracker.ietf.org/doc/bibxml3/draft-ietf-pce-pcep-srv6-yang.xml"/>

      </references>
    </references>

<section numbered="false" anchor="acknowledgements">
      <name>Acknowledgements</name>
      <t>The authors would like to thank <contact fullname="Jeff Tantsura"/>,
      <contact fullname="Adrian Farrel"/>, <contact fullname="Aijun Wang"/>,
      <contact fullname="Khasanov Boris"/>, <contact fullname="Ketan
      Talaulikar"/>, <contact fullname="Martin Vigoureux"/>, <contact
      fullname="Hariharan Ananthakrishnan"/>, <contact fullname="Xinyue
      Zhang"/>, <contact fullname="John Scudder"/>, <contact fullname="Julien
      Meuric"/>, and <contact fullname="Robert Varga"/> for valuable
      suggestions.</t>
      <t>Thanks to <contact fullname="Gunter Van de Velde"/>, <contact
      fullname="Éric Vyncke"/>, <contact fullname="Jim Guichard"/>, and
      <contact fullname="Mahesh Jethanandani"/> for their comments during the
      IESG review.</t>
    </section>
    <section anchor="contributors" numbered="false" toc="include">
      <name>Contributors</name>
      <contact initials="M. S." surname="Negi" fullname="Mahendra Singh Negi">
        <organization>RtBrick Inc</organization>
        <address>
          <postal>
            <city>Bangalore</city>
            <region>Karnataka</region>
            <country>India</country>
          </postal>
          <email>mahend.ietf@gmail.com</email>
        </address>
      </contact>
      <contact initials="D." surname="Dhody" fullname="Dhruv Dhody">
        <organization>Huawei</organization>
        <address>
          <postal>
            <country>India</country>
          </postal>
          <email>dhruv.ietf@gmail.com</email>
        </address>
      </contact>
      <contact initials="H." surname="Wumin" fullname="Huang Wumin">
        <organization>Huawei Technologies</organization>
        <address>
          <postal>
            <street>Huawei Building, No. 156 Beiqing Rd.</street>
            <city>Beijing</city>
            <code>100095</code>
            <country>China</country>
          </postal>
          <email>huangwumin@huawei.com</email>
        </address>
      </contact>
      <contact initials="S." surname="Peng" fullname="Shuping Peng">
        <organization>Huawei Technologies</organization>
        <address>
          <postal>
            <street>Huawei Building, No. 156 Beiqing Rd.</street>
            <city>Beijing</city>
            <code>100095</code>
            <country>China</country>
          </postal>
          <email>pengshuping@huawei.com</email>
        </address>
      </contact>
      <contact initials="R." surname="Chen" fullname="Ran Chen">
        <organization>ZTE Corporation</organization>
        <address>
          <postal>
            <country>China</country>
          </postal>
          <email>chen.ran@zte.com.cn</email>
        </address>
      </contact>
    </section>
  </back>
</rfc>
