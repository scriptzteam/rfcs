<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>
<!-- generated by https://github.com/cabo/kramdown-rfc version 1.6.22 (Ruby 3.0.2) -->
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" ipr="trust200902" number="9366" docName="draft-ietf-sipcore-multiple-reasons-01" category="std" consensus="true" submissionType="IETF" updates="3326" xml:lang="en" tocInclude="true" sortRefs="true" symRefs="true" version="3">
<!-- xml2rfc v2v3 conversion 3.16.0 -->
  <front>
    <title abbrev="Multiple SIP Reason Header Field Values">Multiple SIP Reason Header Field Values</title>
    <seriesInfo name="RFC" value="9366" />
    <author initials="R." surname="Sparks" fullname="Robert Sparks">
      <organization/>
      <address>
        <email>rjsparks@nostrum.com</email>
      </address>
    </author>
    <date year="2023" month="March"/>
    <area>ART</area>
    <workgroup>SIPCORE</workgroup>
    <abstract>
      <t>The SIP Reason header field as defined in RFC 3326 allows only one Reason value per protocol value. Experience with more recently defined protocols shows it is useful to allow multiple values with the same protocol value. This document updates RFC 3326 to allow multiple values for an indicated registered protocol when that protocol defines what the presence of multiple values means.</t>
    </abstract>
  </front>
  <middle>
    <section anchor="introduction">
      <name>Introduction</name>
      <t>The SIP Reason header field as defined in RFC 3326 allows only one Reason value per protocol value. Experience with more recently defined protocols shows it is useful to allow multiple values with the same protocol value <xref target="I-D.ietf-stir-identity-header-errors-handling"/>. This document updates RFC 3326 to allow multiple values for an indicated registered protocol when that protocol defines what the presence of multiple values means. It does not change the requirement in RFC 3326 restricting the header field contents to one value per protocol for those protocols that do not define what multiple values mean.</t>
    </section>
    <section anchor="conventions">
      <name>Conventions</name>
        <t>
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>",
    "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL NOT</bcp14>",
    "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>",
    "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be
    interpreted as described in BCP&nbsp;14 <xref target="RFC2119"/> <xref
    target="RFC8174"/> when, and only when, they appear in all capitals, as
    shown here.
        </t>
    </section>
    <section anchor="update-to-rfc-3326">
      <name>Update to RFC 3326</name>
      <t>The last paragraph of <xref section="2" sectionFormat="of" target="RFC3326"/> is replaced as follows:</t>
      <t>OLD:</t>
<blockquote>
      <t>A SIP message <bcp14>MAY</bcp14> contain more than one Reason value (i.e., multiple
   Reason lines), but all of them <bcp14>MUST</bcp14> have different protocol values
   (e.g., one SIP and another Q.850).  An implementation is free to
      ignore Reason values that it does not understand.</t>
</blockquote>      
      <t>NEW:</t>
<blockquote>
      <t>A SIP message <bcp14>MAY</bcp14> contain more than one Reason value (i.e., multiple
   Reason lines). If the registered protocol for the Reason value specifies
   what it means for multiple values to occur in one message, more than one
   value for that protocol <bcp14>MAY</bcp14> be present. Otherwise, there <bcp14>MUST</bcp14> be only
   one value per protocol provided (e.g., one SIP and another Q.850).  An
   implementation is free to ignore Reason values that it does not understand.</t>
</blockquote>
 </section>
    <section anchor="security-considerations">
      <name>Security Considerations</name>
      <t>This document adds no security considerations to the use of SIP. The security considerations in <xref target="RFC3326"/> and those in any registered protocols used in Reason header field values should be considered.</t>
    </section>
    <section anchor="iana-considerations">
      <name>IANA Considerations</name>
      <t>This document has no IANA actions.</t>
    </section>
  </middle>
  <back>
<displayreference target="I-D.ietf-stir-identity-header-errors-handling" to="STIRREASONS"/>
    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>
	<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3326.xml"/>
	<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
	<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
      </references>
      <references>
        <name>Informative References</name>
<xi:include href="https://datatracker.ietf.org/doc/bibxml3/reference.I-D.ietf-stir-identity-header-errors-handling.xml"/>
      </references>
    </references>
    <section anchor="acknowledgments" numbered="false">
      <name>Acknowledgments</name>
      <t>This text is based on discussions at a STIR Working Group interim meeting. <contact fullname="Jean Mahoney"/> and <contact fullname="Russ Housley"/> provided suggestions that vastly improved the first attempts at assembling these words. <contact fullname="Christer Holmberg"/>, <contact fullname="Dale Worley"/>, <contact fullname="Brian Rosen"/>, <contact fullname="Chris Wendt"/>, and <contact fullname="Paul Kyzivat"/> provided constructive discussion during SIPCORE Working Group adoption.</t>
    </section>
  </back>
</rfc>
